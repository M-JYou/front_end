(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/statused/index"],{"2abd":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("7379")),n=a("70eb");function o(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{chartData:{},itemcode:"",code:"",name:"",statudList:[],speedList:[]}},onLoad:function(e){var t=e.name,a=e.id;this.name=t,this.id=a,this.getStusedList(this.id),this.getDevicelistData(this.id)},onShow:function(){},onReady:function(){this.getServerData()},methods:{numFilter:function(e){var t=parseFloat(e).toFixed(3);return t},getStusedList:function(e){var t=this;(0,n.statusedList)(e).then((function(e){console.log(e,"前接口数据"),t.statudList=e.data,t.statudList.map((function(e){switch(e.subtype){case 0:case 6:case 7:e.showType="table";break;case 5:e.showType="oil";break;case 0:e.showType="pie";break;case 1:e.showType="pie";break;default:e.showType="pie";break}}))}))},getDevicelistData:function(e){var t=this;(0,n.DevicelistData)(e).then((function(e){var a=e.data.points;t.statudListed=t.statudList.map((function(e,i){a.map((function(a){if(e.code===a.point&&(e.acc_state=a.acc_state,e.vel_state=a.vel_state,e.dis_state=a.dis_state,e.env_state=a.env_state,e.temp_state=a.temp_state,e.state=a.state,t.$forceUpdate()),e.code===a.point)return e.acc=a.acc,e.vel=a.vel,e.dis=a.dis,e.env=a.env,e.temp=a.temp,e.time=a.time,e.speed=a.speed,e.alarmCode=a.alarmCode,e.alarmCode=JSON.parse(JSON.stringify(a.alarmCode)),void t.$forceUpdate()})),8!=e.subtype&&0!=e.subtype&&1!=e.subtype||t.showGauge0("canvasGauge"+i,t.statudList[i],i)}))}))},showGauge0:function(t,a,n){var o=this,s=e.createCanvasContext(t,this);a.categories=[{value:.2,color:"#1890ff"},{value:.8,color:"#2fc25b"},{value:1,color:"#f04864"}];var c=a.acc/1e4;a.series=[{name:"完成率",data:c}];new i.default({$this:o,canvasId:t,context:s,type:"gauge",color:[],padding:void 0,title:{name:"r/min",fontSize:14,color:"#14e4f0",offsetY:70},subtitle:{name:"转速",fontSize:14,color:"#10D0E1",offsetY:33},extra:{gauge:{fontSize:4,width:12,labelColor:"#999999",startAngle:.75,endAngle:.25,startNumber:0,endNumber:1e4,labelFormat:"",splitLine:{fontSize:4,radius:"10%",fixRadius:0,splitNumber:2,width:13,color:"#FFFFFF",childNumber:2,childWidth:4},pointer:{length:"20%",width:12,radius:10,color:"auto"}}},width:e.upx2px(500),height:e.upx2px(290),categories:a.categories,series:a.series,animation:!0,dataLabel:!0})},getServerData:function(){var e=this;setTimeout((function(){var t={categories:[{value:.2,color:"#1890ff"},{value:.8,color:"#2fc25b"},{value:1,color:"#f04864"}],series:[{name:"完成率",data:.8}]};e.chartData=JSON.parse(JSON.stringify(t))}),500)},gotrendChart:function(t){t.id;var a=this.itemcode,i=this.code,n=t.code,o=t.name;if(console.log(t.subtype),7==t.subtype){var s={itemcode:a,eqtcode:i,pointcode:n,pointname:o};e.navigateTo({url:"/pages/dgtrenddt/index?data=".concat(JSON.stringify(s))})}if(6==t.subtype){var c={itemcode:a,eqtcode:i,pointcode:n,pointname:o};e.navigateTo({url:"/pages/dgtranstreds/index?data=".concat(JSON.stringify(c))})}if(5==t.subtype){var r={itemcode:a,eqtcode:i,pointcode:n,pointname:o};e.navigateTo({url:"/pages/dgtrendoil/index?data=".concat(JSON.stringify(r))})}if(0==t.subtype){var d={itemcode:a,eqtcode:i,pointcode:n,pointname:o};e.navigateTo({url:"/pages/dgtrendmy/index?data=".concat(JSON.stringify(d))})}if(1==t.subtype||2==t.subtype||3==t.subtype||4==t.subtype||8==t.subtype||9==t.subtype||11==t.subtype||10==t.subtype){var u={itemcode:a,eqtcode:i,pointcode:n,pointname:o};e.navigateTo({url:"/pages/dgtrendprocess/index?data=".concat(JSON.stringify(u))})}},back:function(){e.navigateBack({delta:1})}}};t.default=s}).call(this,a("543d")["default"])},"5e72":function(e,t,a){"use strict";var i=a("c30c"),n=a.n(i);n.a},6330:function(e,t,a){"use strict";(function(e){a("aa96"),a("5c17");i(a("66fd"));var t=i(a("d57b"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=a,e(t.default)}).call(this,a("543d")["createPage"])},ad23:function(e,t,a){"use strict";a.r(t);var i=a("2abd"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},c30c:function(e,t,a){},d57b:function(e,t,a){"use strict";a.r(t);var i=a("dec3"),n=a("ad23");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("5e72");var s,c=a("f0c5"),r=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"4c1d4c6f",null,!1,i["a"],s);t["default"]=r.exports},dec3:function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.statudList,(function(t,a){var i=e.__get_orig(t),n="table"===t.showType?e.numFilter(t.acc):null,o="table"!==t.showType||t.vel<0?null:e.numFilter(t.vel),s="table"!==t.showType||t.dis<=0?null:e.numFilter(t.dis),c="table"!==t.showType||t.env<0?null:e.numFilter(t.env),r="pie"===t.showType&&""!=t.speed?e.numFilter(t.speed):null,d="pie"===t.showType&&""==t.speed?e.numFilter(t.acc):null;return{$orig:i,m0:n,m1:o,m2:s,m3:c,m4:r,m5:d}})));e.$mp.data=Object.assign({},{$root:{l0:a}})},o=[]}},[["6330","common/runtime","common/vendor"]]]);