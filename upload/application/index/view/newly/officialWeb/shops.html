{#layout name="public/layout" /#}
{#load href="__ROOT__/assets/css/logoLayout.css" /#}
{#load href="__ROOT__/assets/css/shops.css" /#}
<div class="wapper_content" id="app">
    <!-- #region -->
    <div class="logoPart">
        <div class="logo">
            <img src="/assets/images/home/logo_xiazi.png" alt="">
            <span>打造财税生态链</span>
        </div>
        <div class="search">
            <div class="search-input">
                <div>
                    <select name="" id="">
                        <option value="">商品</option>
                        <option value="">关键字词</option>
                        <option value="">关键字词</option>
                        <option value="">关键字词</option>
                        <option value="">关键字词</option>
                        <option value="">关键字词</option>
                    </select>
                    <input type="text" placeholder="请输入商品名称">
                </div>
                <button>搜索</button>
            </div>
            <!-- <span>热门推荐：
                <ul>
                    <li><a href="">发票打印机</a></li>
                    <li><a href="">热敏纸</a></li>
                    <li class="none"><a href="">笔</a></li>
                </ul>
            </span> -->
        </div>
        <div class="release">
            <p class="shu_b" @click="goshopCart"><img src="/assets/images/home/shop_1.png" alt=""><span>购物车</span></p>
            <p class="shu_b" @click="goshopMy"><img src="/assets/images/home/shop_2.png" alt=""><span>我的</span></p>
            <p class="shu_b" @click="goshopShare"><img src="/assets/images/home/shop_4.png" alt=""><span>分享</span></p>
            <p class="shu_b" @click="goshopFreeStore"><img src="/assets/images/home/shop_5.png" alt=""><span>免费开店</span>
            </p>
            <p class="shu_b" @click="goSellerCenter"><img src="/assets/images/home/shop_7.png" alt=""><span>卖家中心</span>
            </p>
        </div>
    </div>
    <div class="main">
        <div class="pTitle">
            <img src="/assets/images/home/shop_06.png" alt="">
        </div>

        <div class="top">
            <el-breadcrumb separator-class="el-icon-arrow-right">
                <el-breadcrumb-item><a href="/">籽虾云平台</a></el-breadcrumb-item>
                <el-breadcrumb-item><a href="/officialWeb/shopping">购物</a></el-breadcrumb-item>
                <el-breadcrumb-item>店铺首页</el-breadcrumb-item>
            </el-breadcrumb>
            <div class="box_1">
                <span>销量</span>
                <span>新品</span>
                <span>价格<i class="el-icon-d-caret"></i></span>
            </div>
        </div>
        <div class="mainContent">
            <div class="mainLeft">
                <div class="nav">
                    <h2><img src="/assets/images/home/shop_04.png" alt="">店铺名称</h2>

                    <div class="shopName">
                        <div class="child_shop1">
                            <p>
                                <span class="span_1">评价</span>
                                <span class="span_2">4.8<i class="el-icon-top"></i></span>
                            </p>
                            <p>
                                <span class="span_1">服务</span>
                                <span class="span_2">4.9<i class="el-icon-top"></i></span>
                            </p>
                            <p>
                                <span class="span_1">物流</span>
                                <span class="span_2">4.5<i class="el-icon-top"></i></span>
                            </p>

                        </div>
                        <div class="child_shop2">
                            <button>分享店铺</button>
                            <button>收藏店铺</button>
                        </div>
                        <div class="child_shop3">
                            <span><img src="/assets/images/home/shop_001.png" alt=""></span>
                            <span><img src="/assets/images/home/shop_002.png" alt=""></span>
                        </div>
                    </div>
                    <span class="shouye">店铺首页</span>
                    <span class="current">全部</span>
                    <span>财会用品</span>
                    <span>办公用品</span>
                    <span>财税软件</span>
                    <span>财税书籍</span>
                </div>
            </div>
            <div class="mainRight">
                <div class="banner">
                    <el-carousel trigger="click" height="150px">
                        <el-carousel-item v-for="item in 4" :key="item">
                            <h3 class="small">{{ item }}</h3>
                        </el-carousel-item>
                    </el-carousel>
                </div>

                <div class="item" v-for="(item,index) in products" :key="index">
                    <div class="box_2" @click="goShopDetails(item.id)">
                        <img :src="item.cover" alt="">
                    </div>
                    <div class="itemBtm">
                        <div class="box_3" @click="goShopDetails(item.id)">
                            <div class="price">
                                <div class="newPrice">￥<span>{{item.expense}}</span></div>
                                <div class="oddPrice">￥1366</div>
                            </div>
                            <p class="num">已售13525</p>
                        </div>
                        <div class="box_4" @click="goShopDetails(item.id)">{{item.name}}</div>
                        <div class="box_5">
                            <div class="shopName"><img src="/assets/images/home/shop_04.png" alt="">{{item.store.name}}
                            </div>
                            <div class="addCart"><img @click="open2" src="/assets/images/home/shop_8.png" alt=""><img
                                    @click="addCart" src="/assets/images/home/shop_9.png" alt=""></div>
                        </div>
                    </div>
                </div>
            </div>



        </div>
    </div>
</div>
<script>
    var strUrl = location.href;
    var arrUrl = strUrl.split("/");
    var strPage = arrUrl[arrUrl.length - 1];
    var shop = (strPage.replace(".html", "").replace(".htm", ""));

    var app = new Vue({
        el: '#app',
        data() {
            return {
                activeName: 'first',
                input: '',
                expert: true,
                navList: ['全部', '猜你喜欢', '财会用品', '办公用品', '财税软件', '财税书籍'],
                data: JSON.parse(`{#:show($data)#}`),
                me: JSON.parse(Cookies.get("qscms_visitor") || "{}"),
                showRegQuick: false,
                products: [],
            }
        },
        created() {
            this.getProductList()
        },
        methods: {
            open2() {
                this.$message({
                    message: '商品收藏成功',
                    type: 'success'
                });
            },
            addCart() {
                this.$message({
                    message: '已添加',
                    type: 'success'
                });
            },
            // lastClick() {
            //     if (this.data.current_page > 1) {
            //         this.param.page = --this.data.current_page;
            //         this.jump();
            //     }
            // },
            // nextClick() {
            //     if (this.data.total_page > this.data.current_page) {
            //         this.param.page = ++this.data.current_page;
            //         this.jump();
            //     }
            // },
            goshopCart() {
                // const utype = this.me.utype || 0;
                // if (parseInt(utype) === 0) {
                //     this.showRegQuick = true;
                //     this.$confirm('当前操作需要登录账号', '提示', {
                //         type: 'warning',
                //         confirmButtonText: '登录'
                //     }).then(() => {
                //         location.href = qscms.locationList.loginPersonal + "?redirect=" + location.href;
                //     }).catch(() => { })
                // } else{
                //     location.href = './shopCart.html'
                // }
            },
            goshopMy() {
                // const utype = this.me.utype || 0;
                // if (parseInt(utype) === 0) {
                //     this.showRegQuick = true;
                //     this.$confirm('当前操作需要登录账号', '提示', {
                //         type: 'warning',
                //         confirmButtonText: '登录'
                //     }).then(() => {
                //         location.href = qscms.locationList.loginPersonal + "?redirect=" + location.href;
                //     }).catch(() => { })
                // } else{
                //     location.href = './shopMy.html'
                // }
            },
            goshopShare() {
                // const utype = this.me.utype || 0;
                // if (parseInt(utype) === 0) {
                //     this.showRegQuick = true;
                //     this.$confirm('当前操作需要登录账号', '提示', {
                //         type: 'warning',
                //         confirmButtonText: '登录'
                //     }).then(() => {
                //         location.href = qscms.locationList.loginPersonal + "?redirect=" + location.href;
                //     }).catch(() => { })
                // } else{
                //     // location.href = './shopCart.html'
                //     console.log('分享');
                // }
            },
            goshopFreeStore() {
                // const utype = this.me.utype || 0;
                // if (parseInt(utype) === 0) {
                //     this.showRegQuick = true;
                //     this.$confirm('当前操作需要登录账号', '提示', {
                //         type: 'warning',
                //         confirmButtonText: '登录'
                //     }).then(() => {
                //         location.href = qscms.locationList.loginPersonal + "?redirect=" + location.href;
                //     }).catch(() => { })
                // } else{
                //     location.href = './shopCart.html'
                // }
            },
            goSellerCenter() {
                // const utype = this.me.utype || 0;
                // if (parseInt(utype) === 0) {
                //     this.showRegQuick = true;
                //     this.$confirm('当前操作需要登录账号', '提示', {
                //         type: 'warning',
                //         confirmButtonText: '登录'
                //     }).then(() => {
                //         location.href = qscms.locationList.loginPersonal + "?redirect=" + location.href;
                //     }).catch(() => { })
                // } else{
                //     location.href = './shopCart.html'
                // }
            },
            getProductList() {
                httppost('member/goods/index',{}).then((res) => {
                    this.products = res.data;
                    console.log(this.products);

                })
            },
            goShopDetails(id) {
                location.href = `/officialWeb/shopDetails/${id}.html`;
            }




        }
    })

</script>