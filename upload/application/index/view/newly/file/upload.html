{#layout name="public/layout" /#}
{#load href="__ROOT__/assets/css/logoLayout.css" /#}
{#load href="__ROOT__/assets/css/upload.css" /#}
<div class="wapper_content" id="app">
    <!-- #region -->
    <div class="logoPart">
        <div class="logo">
            <img src="/assets/images/home/logo_xiazi.png" alt="">
            <span>打造财税生态链</span>
        </div>
        <div class="search">
            <div class="search-input">
                <div>
                    <i class="el-icon-search"></i>
                    <input type="text" v-mordel="input" placeholder="搜索财税文档/人社文档">
                </div>
                <button>搜索</button>
            </div>
        </div>
        <div class="release">
            <p><img src="/assets/images/home/myWord.png" alt=""><a href="">我的上传</a></p>
        </div>
    </div>
    <div class="main">
        <el-breadcrumb separator-class="el-icon-arrow-right">
            <el-breadcrumb-item><a href="/">籽虾云平台</a></el-breadcrumb-item>
            <el-breadcrumb-item>领赏上传文档</el-breadcrumb-item>
        </el-breadcrumb>
        <div class="mainContent">
            <div class="nav">
                <h2>文库</h2>
                <span class="current"><a href="">领赏上传文档</a></span>
                <span class="other"><a href="/file/download">免费下载文档</a></span>

            </div>
            <div class="formContent">
                <div class="form">
                    <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="100px" class="demo-ruleForm">
                        <el-form-item label="文件标题" prop="name">
                            <el-input v-model="ruleForm.name" placeholder="请填写文件标题"></el-input>
                        </el-form-item>
                        <el-form-item label="文件简介" prop="desc">
                            <el-input type="textarea" v-model="ruleForm.desc" placeholder="请输入简介"></el-input>
                        </el-form-item>
                        <el-form-item label="文件类型" prop="type">
                            <el-select v-model="ruleForm.type" placeholder="请选择文件类型">
                                <el-option label="人社文档" value="renshe"></el-option>
                                <el-option label="财税文档" value="caishui"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="选择文件" prop="type">
                            <el-input id="file-uploader" placeholder="请选择文件" multiple suffix-icon="el-icon-folder-opened"
                                placeholder="请选择文件"></el-input>
                        </el-form-item>

                        <el-form-item>
                            <el-checkbox v-model="checked"><el-button type="text" @click="open" class="uploadStatement">上传声明</el-button></el-checkbox>
                            <!-- <el-button type="primary" @click="submitForm('ruleForm')">立即创建</el-button>
                            <el-button @click="resetForm('ruleForm')">重置</el-button> -->
                        </el-form-item>
                    </el-form>
                    <button class="uploadBtn" type="primary" @click="submitForm('ruleForm')">确认上传</button>
                </div>

            </div>



        </div>
    </div>
</div>
<script>
    const fileUploader = document.getElementById('file-uploader');
    fileUploader.addEventListener('change', (event) => {
        const files = event.target.files;
        console.log('files', files);
    })
    var app = new Vue({
        el: '#app',
        data() {
            return {
                checked: false,
                input: '',
                ruleForm: {
                    name: '',
                    type: '',
                    desc: ''
                },
                rules: {
                    name: [
                        { required: true, message: '请输入文件标题', trigger: 'blur' },
                        { min: 0, max: 100, message: '长度在 0 到 100 个字符', trigger: 'blur' }
                    ],
                    type: [
                        { required: true, message: '请选文件', trigger: 'change' }
                    ],

                    desc: [
                        { required: true, message: '请填写活动形式', trigger: 'blur' }
                    ]
                }
            }
        },
        methods: {
            submitForm(formName) {
                this.$refs[formName].validate((valid) => {
                    if (valid) {
                        alert('submit!');
                    } else {
                        console.log('error submit!!');
                        return false;
                    }
                });
            },
            resetForm(formName) {
                this.$refs[formName].resetFields();
            },
            open() {
                this.$alert('本文档将公开使用，涉及侵权与本平台无关，可供本平台其他用户免费下载使用或收费下载使用，文档在侵权时可联系客服处理，用户上传文档时奖赏积分100-500积分，本平台人工审核文档内容及人工确定奖赏积分数量，用户免费下载时向上传文档用户奖励1积分/每次,用户收费下载时，上传用户与平台分成，享受分成时再不享受平台奖励。', '上传文档声明', {
                    confirmButtonText: '确定',
                    callback: action => {
                        this.$message({
                            type: 'info',
                            message: `action: ${action}`
                        });
                    }
                });
            }
        }
    })

</script>